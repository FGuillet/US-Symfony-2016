{% extends "::manage.html.twig" %}

{% block title %}Ajouter une propriété - {% endblock %}

{% block body %}
<section class="container">
  <h1>Ajouter une propriété</h1>

  {{ include("USCatalogBundle:Catalog:formProperty.html.twig") }}
</section>


<script type="text/javascript" src="//code.jquery.com/jquery-1.11.3.min.js"></script>
<script type="text/javascript">
$(document).ready(function()
{
  var $container = $('#us_catalogbundle_property_propertyValues');
  var $index = $('#us_catalogbundle_property_propertyValues > div').length;

  $('#addValue').on('click', function(e)
  {
    var $name = 'us_catalogbundle_property[propertyValues][' + $index + '][content]';
    var $id = 'us_catalogbundle_property_propertyValues_' + $index + '_content';

    var $content = '<div>';
    $content += '<label for="' + $name + '">Values : </label>';
    $content += '<input id="' + $id + '" name="' + $name + '" required="required" />';
    $content += '<a id="delete' + $index + '" href="#" data-parent="' + $id + '">Delete</a>';
    $content += '</div>';

    $container.append($content);

    $index++;

    e.preventDefault(); // évite qu'un # apparaisse dans l'URL

    return false;
  });

  $('#us_catalogbundle_property_propertyValues').on('click', 'a', function(e)
  {
    $(this).parent().remove();

    e.preventDefault(); // évite qu'un # apparaisse dans l'URL

    return false;
  });



});





</script>
{% endblock %}
